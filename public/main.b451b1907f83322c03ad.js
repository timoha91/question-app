(()=>{"use strict";var e={9449:(e,t,n)=>{function r(e){return e.length>=10}function o(e,t){var n=document.createElement("div");n.classList.add("modal"),n.innerHTML="\n        <h1>".concat(e,'</h1>\n        <div class="modal-content">').concat(t,"</div>\n    "),mui.overlay("on",n)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(5377),n(6248),n.p;var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,null,(n=[{key:"create",value:function(t){return fetch("https://qustion-app-default-rtdb.europe-west1.firebasedatabase.app/question.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return t.id=e.name,t})).then(s).then(e.renderList)}},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return e?fetch("https://qustion-app-default-rtdb.europe-west1.firebasedatabase.app/question.json?auth=".concat(e)).then((function(e){return e.json()})).then((function(e){return e&&e.error?'<p class="error">'.concat(e.error,"</p>"):e?Object.keys(e).map((function(t){return a(a({},e[t]),{},{id:t})})):[]})):Promise.resolve('<p class="error"> У вас нет токена </p>')}))},{key:"renderList",value:function(){var e=f(),t=e.length?e.map(d).join(""):'<div class="mui--text-headline">Вопросов нет</div>';document.getElementById("list").innerHTML=t}},{key:"listToHTML",value:function(e){return e.length?"<ol>".concat(e.map((function(e){return"<li>".concat(e.text,"</li>")})).join(""),"</ol>"):"<p>Вопросов пока нет </p>"}}])&&c(t,n),e}();function s(e){var t=f();t.push(e),localStorage.setItem("questions",JSON.stringify(t))}function f(){return JSON.parse(localStorage.getItem("questions")||"[]")}function d(e){return'<div class="mui--text-black-54">\n        '.concat(new Date(e.date).toLocaleDateString(),"\n        ").concat(new Date(e.date).toLocaleTimeString(),"\n    </div>\n    <div>").concat(e.text,"</a></div>\n    <br>")}function p(e){e.preventDefault();var t=e.target.querySelector("#email").value,n=e.target.querySelector("#password").value,r=e.target.querySelector("#button");r.disabled=!0,function(e,t){return fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyBRUdX4Xo6BcjS0J5TsfMKVcb5v2ACDbqE"),{method:"POST",body:JSON.stringify({email:e,password:t,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e.idToken}))}(t,n).then(l.fetch).then(b).then((function(){return r.disabled=!1}))}function b(e){"string"==typeof e?o("Ошибка",e):o("Список вопросов",l.listToHTML(e))}var m=document.getElementById("form"),h=document.getElementById("modal-btn"),v=m.querySelector("#question-input"),y=m.querySelector("#submit");window.addEventListener("load",l.renderList()),m.addEventListener("submit",(function(e){if(e.preventDefault(),r(v.value)){var t={text:v.value.trim(),date:(new Date).toJSON()};y.disabled=!0,l.create(t).then((function(){v.value="",v.className="",y.disabled=!1}))}})),h.addEventListener("click",(function(){o("Авторизация",'\n    \x3c!--  Form --\x3e\n    <form class="mui-form" id="auth-form">\n        <div class="mui-textfield mui-textfield--float-label">\n          <input type="email" id="email" required>\n          <label for="email">E-mail</label>\n        </div>\n        <div class="mui-textfield mui-textfield--float-label">\n          <input type="password" id="password" required>\n          <label for="password">Пароль</label>\n        </div>\n        \n        <button type="submit" class="mui-btn mui-btn--raised mui-btn--primary" id="button">Войти</button>\n      </form>\n    \x3c!--  /Form --\x3e\n    '),document.getElementById("auth-form").addEventListener("submit",p,{once:!0})})),v.addEventListener("input",(function(){y.disabled=!r(v.value)}))}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.x=e=>{},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={179:0},t=[[9449,60]],r=e=>{},o=(o,i)=>{for(var a,u,[c,l,s,f]=i,d=0,p=[];d<c.length;d++)u=c[d],n.o(e,u)&&e[u]&&p.push(e[u][0]),e[u]=0;for(a in l)n.o(l,a)&&(n.m[a]=l[a]);for(s&&s(n),o&&o(i);p.length;)p.shift()();return f&&t.push.apply(t,f),r()},i=self.webpackChunk=self.webpackChunk||[];function a(){for(var r,o=0;o<t.length;o++){for(var i=t[o],a=!0,u=1;u<i.length;u++){var c=i[u];0!==e[c]&&(a=!1)}a&&(t.splice(o--,1),r=n(n.s=i[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),r}i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i));var u=n.x;n.x=()=>(n.x=u||(e=>{}),(r=a)())})(),n.x()})();